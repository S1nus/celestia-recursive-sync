# Cryptographic Sync Project

This project implements a cryptographic synchronization system using [SP1](https://github.com/succinctlabs/sp1), a zero-knowledge virtual machine for RISC-V programs.

Reimplementation of [celestia-recursive-sync](https://github.com/S1nus/celestia-recursive-sync/tree/main) using SP1.

## Requirements

- [Rust](https://rustup.rs/)
- [SP1](https://docs.succinct.xyz/getting-started/install.html)

## Project Structure

The project consists of two main components:

1. `program`: Contains the RISC-V program that performs the cryptographic operations.
2. `script`: Contains the Rust script to build, execute, and generate proofs for the program.

## Running the Project

```
cd program
cargo build
cd ../script
cargo run --release
```

### Output
```
     Running `target/release/main`
[?] Loading proof from file...
[#1] encoded len: 1 (null genesis header)
[#1] encoded len: 40885 (first header)
[?] Initializing ProverClient #1...
Writing verification key and additional data...
[?] Generating proof0...
stdout: [ZK] Verifying genesis header (nil + h2)...
stdout: [ZK] Verifying genesis header (nil + h2)...
stdout: [ZK] Verifying genesis header (nil + h2)...
[+] proof0 generation time: 337.920366667s
[?] Saving proof #0 to file...
[+] Reading public values from proof...
  -> 1st hash: [182, 233, 193, 235, 0, 146, 86, 229, 224, 49, 98, 229, 130, 123, 78, 220, 176, 246, 0, 178, 8, 4, 0, 114, 215, 21, 148, 106, 197, 64, 254, 88]
  -> 2nd hash: [182, 233, 193, 235, 0, 146, 86, 229, 224, 49, 98, 229, 130, 123, 78, 220, 176, 246, 0, 178, 8, 4, 0, 114, 215, 21, 148, 106, 197, 64, 254, 88]
  -> result: true
[?] Initializing ProverClient #2...
[#2] encoded len: 40885 (genesis header)
[#2] encoded len: 41453 (first header)
Writing verification key and additional data...
[?] Generating proof #1...
stdout: [ZK] Verifying proof (h1 + h2)...
stdout: [ZK] Verifying proof...
stdout: [ZK] Done.
stdout: [ZK] Header verification...
stdout: [ZK] Success.
stdout: [ZK] Verifying proof (h1 + h2)...
stdout: [ZK] Verifying proof...
stdout: [ZK] Done.
stdout: [ZK] Header verification...
stdout: [ZK] Success.
stdout: [ZK] Verifying proof (h1 + h2)...
stdout: [ZK] Verifying proof...
stdout: [ZK] Done.
stdout: [ZK] Header verification...
stdout: [ZK] Success.
[+] proof1 generation time: 555.818201375s
[?] Saving proof1.json to file...
[+] Reading public values from proof...
  -> 1st hash: [182, 233, 193, 235, 0, 146, 86, 229, 224, 49, 98, 229, 130, 123, 78, 220, 176, 246, 0, 178, 8, 4, 0, 114, 215, 21, 148, 106, 197, 64, 254, 88]
  -> 2nd hash: [21, 215, 48, 134, 90, 6, 9, 102, 57, 115, 99, 48, 222, 189, 17, 93, 97, 63, 169, 141, 76, 158, 2, 10, 154, 218, 170, 166, 172, 58, 63, 7]
  -> result: true

[+] Success.
```